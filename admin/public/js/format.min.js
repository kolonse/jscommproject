function KString(a){this.str=a;this.param={};return this.parse(this.str)}KString.prototype.parse=function(){var c=/(?:\$\{)(.*?)(?:\})/g;var a=c.exec(this.str);while(a!=null){var b=this.format(a[1]);if(b===""){continue}this.param[b]="";a=c.exec(this.str)}return this};KString.prototype.trim=function(a){return a.replace(/^\s*(\S+)\s*/,"$1")};KString.prototype.format=function(b){var a=b.toLowerCase();return this.trim(a)};KString.prototype.Set=function(a,b){a=this.format(a);if(this.param[a]===undefined){return this}if(b instanceof Object){this.param[a]=JSON.stringify(b)}else{this.param[a]=""+b}return this};KString.prototype.Get=function(){var a=this.str;for(var b in this.param){var c=new RegExp("\\$\\{\\s*"+b+"\\s*\\}","ig");a=a.replace(c,this.param[b])}return a};